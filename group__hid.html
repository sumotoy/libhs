<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libhs: HID device I/O</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libhs
   </div>
   <div id="projectbrief">Cross-platform HID and serial library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__hid.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HID device I/O</div>  </div>
</div><!--header-->
<div class="contents">

<p>Send and receive HID reports (input, output, feature) to and from HID devices.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:strucths__hid__descriptor"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hid.html#strucths__hid__descriptor">hs_hid_descriptor</a></td></tr>
<tr class="memdesc:strucths__hid__descriptor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing a parsed HID descriptor.  <a href="group__hid.html#strucths__hid__descriptor">More...</a><br /></td></tr>
<tr class="separator:strucths__hid__descriptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaaef6b9023c1ff6e549c557cab579b28a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hid.html#gaaef6b9023c1ff6e549c557cab579b28a">hs_hid_parse_descriptor</a> (struct hs_handle *h, <a class="el" href="group__hid.html#strucths__hid__descriptor">hs_hid_descriptor</a> *desc)</td></tr>
<tr class="memdesc:gaaef6b9023c1ff6e549c557cab579b28a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the report descriptor from the device.  <a href="#gaaef6b9023c1ff6e549c557cab579b28a">More...</a><br /></td></tr>
<tr class="separator:gaaef6b9023c1ff6e549c557cab579b28a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga307a73b42488886cabaf068dac02c499"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hid.html#ga307a73b42488886cabaf068dac02c499">hs_hid_read</a> (struct hs_handle *h, uint8_t *buf, size_t size, int timeout)</td></tr>
<tr class="memdesc:ga307a73b42488886cabaf068dac02c499"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read an input report from the device.  <a href="#ga307a73b42488886cabaf068dac02c499">More...</a><br /></td></tr>
<tr class="separator:ga307a73b42488886cabaf068dac02c499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6bbc2bdac0fb5aa4d38e1fd37efbc67e"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hid.html#ga6bbc2bdac0fb5aa4d38e1fd37efbc67e">hs_hid_write</a> (struct hs_handle *h, const uint8_t *buf, size_t size)</td></tr>
<tr class="memdesc:ga6bbc2bdac0fb5aa4d38e1fd37efbc67e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an output report to the device.  <a href="#ga6bbc2bdac0fb5aa4d38e1fd37efbc67e">More...</a><br /></td></tr>
<tr class="separator:ga6bbc2bdac0fb5aa4d38e1fd37efbc67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ec0f9007a808df011370e10dcd163c1"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hid.html#ga8ec0f9007a808df011370e10dcd163c1">hs_hid_get_feature_report</a> (hs_handle *h, uint8_t report_id, uint8_t *buf, size_t size)</td></tr>
<tr class="memdesc:ga8ec0f9007a808df011370e10dcd163c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a feature report from the device.  <a href="#ga8ec0f9007a808df011370e10dcd163c1">More...</a><br /></td></tr>
<tr class="separator:ga8ec0f9007a808df011370e10dcd163c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7327280d80d7fae54c29b5c66be49fed"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hid.html#ga7327280d80d7fae54c29b5c66be49fed">hs_hid_send_feature_report</a> (struct hs_handle *h, const uint8_t *buf, size_t size)</td></tr>
<tr class="memdesc:ga7327280d80d7fae54c29b5c66be49fed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a feature report to the device.  <a href="#ga7327280d80d7fae54c29b5c66be49fed">More...</a><br /></td></tr>
<tr class="separator:ga7327280d80d7fae54c29b5c66be49fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Send and receive HID reports (input, output, feature) to and from HID devices. </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="strucths__hid__descriptor" id="strucths__hid__descriptor"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct hs_hid_descriptor</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Structure representing a parsed HID descriptor. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__hid.html#gaaef6b9023c1ff6e549c557cab579b28a" title="Parse the report descriptor from the device. ">hs_hid_parse_descriptor()</a> </dd></dl>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4b2fa21398658f5726a5466fb3d20eac"></a>uint16_t</td>
<td class="fieldname">
usage_page</td>
<td class="fielddoc">
<p>Primary usage page value. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac8b2e32d71123eeaeaea59873ea04389"></a>uint16_t</td>
<td class="fieldname">
usage</td>
<td class="fielddoc">
<p>Primary usage value. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaaef6b9023c1ff6e549c557cab579b28a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hs_hid_parse_descriptor </td>
          <td>(</td>
          <td class="paramtype">struct hs_handle *&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__hid.html#strucths__hid__descriptor">hs_hid_descriptor</a> *&#160;</td>
          <td class="paramname"><em>desc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the report descriptor from the device. </p>
<p>This parser is very incomplete at the moment, only a few values are extracted from the descriptor. See <a class="el" href="group__hid.html#strucths__hid__descriptor">hs_hid_descriptor</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">h</td><td>Device handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">desc</td><td>A pointer to a <a class="el" href="group__hid.html#strucths__hid__descriptor" title="Structure representing a parsed HID descriptor. ">hs_hid_descriptor</a> structure that receives the parsed descriptor information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns 0 on success, or a negative <a class="el" href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">hs_error_code</a> value.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__hid.html#strucths__hid__descriptor" title="Structure representing a parsed HID descriptor. ">hs_hid_descriptor</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga307a73b42488886cabaf068dac02c499"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t hs_hid_read </td>
          <td>(</td>
          <td class="paramtype">struct hs_handle *&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read an input report from the device. </p>
<p>The first byte will contain the report ID, or 0 if the device does not use numbered reports. HID is message-oriented, if the buffer is too small the extra bytes will be discarded.</p>
<p>If no report is available, the function waits for up to <code>timeout</code> milliseconds. Use a negative value to wait indefinitely.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">h</td><td>Device handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Input report buffer. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">size</td><td>Size of the report buffer (make room for the report ID). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">timeout</td><td>Timeout in milliseconds, or -1 to block indefinitely.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns the size of the report in bytes + 1 (report ID). It returns 0 on timeout, or a negative <a class="el" href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">hs_error_code</a> value. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6bbc2bdac0fb5aa4d38e1fd37efbc67e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t hs_hid_write </td>
          <td>(</td>
          <td class="paramtype">struct hs_handle *&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an output report to the device. </p>
<p>The first byte must be the report ID, or 0 if the device does not use report IDs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>Device handle. </td></tr>
    <tr><td class="paramname">buf</td><td>Output report data. </td></tr>
    <tr><td class="paramname">size</td><td>Output report size (including the report ID byte).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns the size of the report in bytes + 1 (report ID), or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8ec0f9007a808df011370e10dcd163c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t hs_hid_get_feature_report </td>
          <td>(</td>
          <td class="paramtype">hs_handle *&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>report_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a feature report from the device. </p>
<p>The first byte will contain the report ID, or 0 if the device does not use numbered reports.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">h</td><td>Device handle. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">report_id</td><td>Specific report to retrieve, or 0 if the device does not use numbered reports. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Feature report buffer (make room for the report ID). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">size</td><td>Size of the report buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns the size of the report in bytes + 1 (report ID), or a negative <a class="el" href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">hs_error_code</a> value. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7327280d80d7fae54c29b5c66be49fed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t hs_hid_send_feature_report </td>
          <td>(</td>
          <td class="paramtype">struct hs_handle *&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a feature report to the device. </p>
<p>The first byte must be the report ID, or 0 if the device does not use numbered reports.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>Device handle. </td></tr>
    <tr><td class="paramname">buf</td><td>Output report data. </td></tr>
    <tr><td class="paramname">size</td><td>Output report size (including the report ID byte).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns the size of the report in bytes + 1 (report ID), or a negative <a class="el" href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">hs_error_code</a> value. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 23 2015 15:17:59 for libhs by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>

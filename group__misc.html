<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libhs: Miscellaneous</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libhs
   </div>
   <div id="projectbrief">Cross-platform HID and serial library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__misc.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Miscellaneous</div>  </div>
</div><!--header-->
<div class="contents">

<p>Error management and platform-specific functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:strucths__descriptor__set"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#strucths__descriptor__set">hs_descriptor_set</a></td></tr>
<tr class="memdesc:strucths__descriptor__set"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descriptor set for cross-platform device polling.  <a href="group__misc.html#strucths__descriptor__set">More...</a><br /></td></tr>
<tr class="separator:strucths__descriptor__set"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga28f92c4d1e1785c7fc653ee1cec7c35d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga28f92c4d1e1785c7fc653ee1cec7c35d">HS_VERSION</a>&#160;&#160;&#160;900</td></tr>
<tr class="memdesc:ga28f92c4d1e1785c7fc653ee1cec7c35d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compile-time libhs version.  <a href="#ga28f92c4d1e1785c7fc653ee1cec7c35d">More...</a><br /></td></tr>
<tr class="separator:ga28f92c4d1e1785c7fc653ee1cec7c35d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga523c656c82be06903d607e2dbb88e3d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga523c656c82be06903d607e2dbb88e3d1">HS_VERSION_STRING</a>&#160;&#160;&#160;&quot;0.9.0&quot;</td></tr>
<tr class="memdesc:ga523c656c82be06903d607e2dbb88e3d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compile-time libhs version string.  <a href="#ga523c656c82be06903d607e2dbb88e3d1">More...</a><br /></td></tr>
<tr class="separator:ga523c656c82be06903d607e2dbb88e3d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga9fa7e0b22e44f003eac46a8b1d911793"><td class="memItemLeft" align="right" valign="top">typedef _platform_specific_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga9fa7e0b22e44f003eac46a8b1d911793">hs_descriptor</a></td></tr>
<tr class="memdesc:ga9fa7e0b22e44f003eac46a8b1d911793"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type representing an OS descriptor/handle.  <a href="#ga9fa7e0b22e44f003eac46a8b1d911793">More...</a><br /></td></tr>
<tr class="separator:ga9fa7e0b22e44f003eac46a8b1d911793"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga08d37b72f70a8e94bf5f545bae7bf489"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga08d37b72f70a8e94bf5f545bae7bf489">hs_log_level</a> { <a class="el" href="group__misc.html#gga08d37b72f70a8e94bf5f545bae7bf489ac3a100b1584db5b485ee102a8dfe781a">HS_LOG_DEBUG</a> = -1, 
<a class="el" href="group__misc.html#gga08d37b72f70a8e94bf5f545bae7bf489ab0f2b45913ca4362a27cc36f70c6352e">HS_LOG_WARNING</a>, 
<a class="el" href="group__misc.html#gga08d37b72f70a8e94bf5f545bae7bf489aa9b3971a8e39cbb5bbbe637a8a454b91">HS_LOG_ERROR</a>
 }<tr class="memdesc:ga08d37b72f70a8e94bf5f545bae7bf489"><td class="mdescLeft">&#160;</td><td class="mdescRight">libhs message log levels.  <a href="group__misc.html#ga08d37b72f70a8e94bf5f545bae7bf489">More...</a><br /></td></tr>
<tr class="separator:ga08d37b72f70a8e94bf5f545bae7bf489"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:ga81664ccf8837633feb632ed05b9ea764"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">hs_error_code</a> { <br />
&#160;&#160;<a class="el" href="group__misc.html#gga81664ccf8837633feb632ed05b9ea764a0a0410182743d83784cea0cfcc36700e">HS_ERROR_MEMORY</a> = -1, 
<a class="el" href="group__misc.html#gga81664ccf8837633feb632ed05b9ea764a7a96460879b04fafe9d7d245d8d79364">HS_ERROR_NOT_FOUND</a> = -2, 
<a class="el" href="group__misc.html#gga81664ccf8837633feb632ed05b9ea764ac2eb59dde4e04baa25f9b6b77d39219d">HS_ERROR_ACCESS</a> = -3, 
<a class="el" href="group__misc.html#gga81664ccf8837633feb632ed05b9ea764a0cdec99f330f67c53db313b40a4432d7">HS_ERROR_IO</a> = -4, 
<br />
&#160;&#160;<a class="el" href="group__misc.html#gga81664ccf8837633feb632ed05b9ea764a5458ec338aaf48925bb7851c415d41db">HS_ERROR_SYSTEM</a> = -5, 
<a class="el" href="group__misc.html#gga81664ccf8837633feb632ed05b9ea764a4b1792bc59a279318b5ac668869eecdf">HS_ERROR_INVALID</a> = -6
<br />
 }<tr class="memdesc:ga81664ccf8837633feb632ed05b9ea764"><td class="mdescLeft">&#160;</td><td class="mdescRight">libhs error codes.  <a href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">More...</a><br /></td></tr>
<tr class="separator:ga81664ccf8837633feb632ed05b9ea764"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:ga707d7a2b9eb02f4303f14fc6cf1a5ff8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga707d7a2b9eb02f4303f14fc6cf1a5ff8">hs_win32_release</a> { <br />
&#160;&#160;<a class="el" href="group__misc.html#gga707d7a2b9eb02f4303f14fc6cf1a5ff8a5b58d489ac6e21a2e259d5f5f2c11eb7">HS_WIN32_VERSION_2000</a> = 500, 
<a class="el" href="group__misc.html#gga707d7a2b9eb02f4303f14fc6cf1a5ff8aeea007a19767e3f128d74ed8fe80da17">HS_WIN32_VERSION_XP</a> = 501, 
<a class="el" href="group__misc.html#gga707d7a2b9eb02f4303f14fc6cf1a5ff8aebbdf2236a117c8228caa23d59d89de9">HS_WIN32_VERSION_2003</a> = 502, 
<a class="el" href="group__misc.html#gga707d7a2b9eb02f4303f14fc6cf1a5ff8afd6da2362a67e62e0b45fd46169e6ec7">HS_WIN32_VERSION_VISTA</a> = 600, 
<br />
&#160;&#160;<a class="el" href="group__misc.html#gga707d7a2b9eb02f4303f14fc6cf1a5ff8a033520f668968eec180085281e8508e2">HS_WIN32_VERSION_7</a> = 601, 
<a class="el" href="group__misc.html#gga707d7a2b9eb02f4303f14fc6cf1a5ff8aa6a8628995f3e3dffcd0f0f929f18dd4">HS_WIN32_VERSION_8</a> = 602, 
<a class="el" href="group__misc.html#gga707d7a2b9eb02f4303f14fc6cf1a5ff8a9180357f82d8b07499e0eccb163168a0">HS_WIN32_VERSION_8_1</a> = 603, 
<a class="el" href="group__misc.html#gga707d7a2b9eb02f4303f14fc6cf1a5ff8a367994360541b46f73330d21c5a066c5">HS_WIN32_VERSION_10</a> = 1000
<br />
 }<tr class="memdesc:ga707d7a2b9eb02f4303f14fc6cf1a5ff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common Windows version numbers.  <a href="group__misc.html#ga707d7a2b9eb02f4303f14fc6cf1a5ff8">More...</a><br /></td></tr>
<tr class="separator:ga707d7a2b9eb02f4303f14fc6cf1a5ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Version Functions</h2></td></tr>
<tr class="memitem:ga9cb513f4b03c049c9a76e7e99b447937"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga9cb513f4b03c049c9a76e7e99b447937">hs_version</a> (void)</td></tr>
<tr class="memdesc:ga9cb513f4b03c049c9a76e7e99b447937"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run-time libhs version.  <a href="#ga9cb513f4b03c049c9a76e7e99b447937">More...</a><br /></td></tr>
<tr class="separator:ga9cb513f4b03c049c9a76e7e99b447937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab453230a4cc15e32755d9990c4cbc593"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#gab453230a4cc15e32755d9990c4cbc593">hs_version_string</a> (void)</td></tr>
<tr class="memdesc:gab453230a4cc15e32755d9990c4cbc593"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run-time libhs version string.  <a href="#gab453230a4cc15e32755d9990c4cbc593">More...</a><br /></td></tr>
<tr class="separator:gab453230a4cc15e32755d9990c4cbc593"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Log Functions</h2></td></tr>
<tr class="memitem:gab765d06278769c8fe2291095267625a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#gab765d06278769c8fe2291095267625a3">hs_log_redirect</a> (hs_log_func *f, void *udata)</td></tr>
<tr class="memdesc:gab765d06278769c8fe2291095267625a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the log callback function.  <a href="#gab765d06278769c8fe2291095267625a3">More...</a><br /></td></tr>
<tr class="separator:gab765d06278769c8fe2291095267625a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81cec63e387124d0ec01a679bd8507c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga81cec63e387124d0ec01a679bd8507c2">hs_log</a> (<a class="el" href="group__misc.html#ga08d37b72f70a8e94bf5f545bae7bf489">hs_log_level</a> level, const char *fmt,...)</td></tr>
<tr class="memdesc:ga81cec63e387124d0ec01a679bd8507c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the log callback with a printf-formatted message.  <a href="#ga81cec63e387124d0ec01a679bd8507c2">More...</a><br /></td></tr>
<tr class="separator:ga81cec63e387124d0ec01a679bd8507c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Error Functions</h2></td></tr>
<tr class="memitem:gaa8da9377c0c5afbb81593cb697101415"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#gaa8da9377c0c5afbb81593cb697101415">hs_error_mask</a> (<a class="el" href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">hs_error_code</a> err)</td></tr>
<tr class="memdesc:gaa8da9377c0c5afbb81593cb697101415"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask an error code.  <a href="#gaa8da9377c0c5afbb81593cb697101415">More...</a><br /></td></tr>
<tr class="separator:gaa8da9377c0c5afbb81593cb697101415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga295dd6900cb190f2041712747c1d3203"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga295dd6900cb190f2041712747c1d3203">hs_error_unmask</a> (void)</td></tr>
<tr class="memdesc:ga295dd6900cb190f2041712747c1d3203"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmask the last masked error code.  <a href="#ga295dd6900cb190f2041712747c1d3203">More...</a><br /></td></tr>
<tr class="separator:ga295dd6900cb190f2041712747c1d3203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdc5b9f8999146998d6bd775fd5240e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#gafdc5b9f8999146998d6bd775fd5240e4">hs_error</a> (<a class="el" href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">hs_error_code</a> err, const char *fmt,...)</td></tr>
<tr class="memdesc:gafdc5b9f8999146998d6bd775fd5240e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the log callback with a printf-formatted error message.  <a href="#gafdc5b9f8999146998d6bd775fd5240e4">More...</a><br /></td></tr>
<tr class="separator:gafdc5b9f8999146998d6bd775fd5240e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
System Functions</h2></td></tr>
<tr class="memitem:gaafafebd2e1dded0a279bc22003934253"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#gaafafebd2e1dded0a279bc22003934253">hs_millis</a> (void)</td></tr>
<tr class="memdesc:gaafafebd2e1dded0a279bc22003934253"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get time from a monotonic clock.  <a href="#gaafafebd2e1dded0a279bc22003934253">More...</a><br /></td></tr>
<tr class="separator:gaafafebd2e1dded0a279bc22003934253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa41d2322c14a1a759efb03ba26efc61d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#gaa41d2322c14a1a759efb03ba26efc61d">hs_adjust_timeout</a> (int timeout, uint64_t start)</td></tr>
<tr class="memdesc:gaa41d2322c14a1a759efb03ba26efc61d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust a timeout over a time period.  <a href="#gaa41d2322c14a1a759efb03ba26efc61d">More...</a><br /></td></tr>
<tr class="separator:gaa41d2322c14a1a759efb03ba26efc61d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga448a59497504c07f4615db2dd8eb2243"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga448a59497504c07f4615db2dd8eb2243">hs_linux_version</a> (void)</td></tr>
<tr class="memdesc:ga448a59497504c07f4615db2dd8eb2243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Linux kernel version as a composite decimal number.  <a href="#ga448a59497504c07f4615db2dd8eb2243">More...</a><br /></td></tr>
<tr class="separator:ga448a59497504c07f4615db2dd8eb2243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1d11f8078c7525d1bbf6079674c1df0"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#gaf1d11f8078c7525d1bbf6079674c1df0">hs_win32_strerror</a> (unsigned long err)</td></tr>
<tr class="memdesc:gaf1d11f8078c7525d1bbf6079674c1df0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format an error string using FormatMessage().  <a href="#gaf1d11f8078c7525d1bbf6079674c1df0">More...</a><br /></td></tr>
<tr class="separator:gaf1d11f8078c7525d1bbf6079674c1df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68e54e9b77f4dd37dbfedf43e3d27c99"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga68e54e9b77f4dd37dbfedf43e3d27c99">hs_win32_version</a> (void)</td></tr>
<tr class="memdesc:ga68e54e9b77f4dd37dbfedf43e3d27c99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Windows version as a composite decimal number.  <a href="#ga68e54e9b77f4dd37dbfedf43e3d27c99">More...</a><br /></td></tr>
<tr class="separator:ga68e54e9b77f4dd37dbfedf43e3d27c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5857a6f54303b35d4f0351daaff2dc72"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga5857a6f54303b35d4f0351daaff2dc72">hs_darwin_version</a> (void)</td></tr>
<tr class="memdesc:ga5857a6f54303b35d4f0351daaff2dc72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Darwin version on Apple systems.  <a href="#ga5857a6f54303b35d4f0351daaff2dc72">More...</a><br /></td></tr>
<tr class="separator:ga5857a6f54303b35d4f0351daaff2dc72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Polling Functions</h2></td></tr>
<tr class="memitem:gac14acfee8e83b28a6d1cebf76b4fc3cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#gac14acfee8e83b28a6d1cebf76b4fc3cd">hs_descriptor_set_clear</a> (<a class="el" href="group__misc.html#strucths__descriptor__set">hs_descriptor_set</a> *set)</td></tr>
<tr class="memdesc:gac14acfee8e83b28a6d1cebf76b4fc3cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all descriptors from this set.  <a href="#gac14acfee8e83b28a6d1cebf76b4fc3cd">More...</a><br /></td></tr>
<tr class="separator:gac14acfee8e83b28a6d1cebf76b4fc3cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab35bb386ef5f65267b74b8d47ecb4dc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#gab35bb386ef5f65267b74b8d47ecb4dc2">hs_descriptor_set_add</a> (<a class="el" href="group__misc.html#strucths__descriptor__set">hs_descriptor_set</a> *set, <a class="el" href="group__misc.html#ga9fa7e0b22e44f003eac46a8b1d911793">hs_descriptor</a> desc, int id)</td></tr>
<tr class="memdesc:gab35bb386ef5f65267b74b8d47ecb4dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a descriptor to a set.  <a href="#gab35bb386ef5f65267b74b8d47ecb4dc2">More...</a><br /></td></tr>
<tr class="separator:gab35bb386ef5f65267b74b8d47ecb4dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c59ee99ffead8f692b52073dfbd1ce3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga8c59ee99ffead8f692b52073dfbd1ce3">hs_descriptor_set_remove</a> (<a class="el" href="group__misc.html#strucths__descriptor__set">hs_descriptor_set</a> *set, int id)</td></tr>
<tr class="memdesc:ga8c59ee99ffead8f692b52073dfbd1ce3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove descriptors from a set.  <a href="#ga8c59ee99ffead8f692b52073dfbd1ce3">More...</a><br /></td></tr>
<tr class="separator:ga8c59ee99ffead8f692b52073dfbd1ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20bb0bc90291e23ad78a0095f810267d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__misc.html#ga20bb0bc90291e23ad78a0095f810267d">hs_poll</a> (const <a class="el" href="group__misc.html#strucths__descriptor__set">hs_descriptor_set</a> *set, int timeout)</td></tr>
<tr class="memdesc:ga20bb0bc90291e23ad78a0095f810267d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait on a descriptor set for readable descriptors.  <a href="#ga20bb0bc90291e23ad78a0095f810267d">More...</a><br /></td></tr>
<tr class="separator:ga20bb0bc90291e23ad78a0095f810267d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Error management and platform-specific functions. </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="strucths__descriptor__set" id="strucths__descriptor__set"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct hs_descriptor_set</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Descriptor set for cross-platform device polling. </p>
<p>The descriptor set and polling helpers are provided for convenience, but they are neither fast nor powerful. Use more advanced event libraries (libev, libevent, libuv) or the OS-specific functions if you need more.</p>
<p>You can manipulate this structure directly but helper functions are also provided. It is required to set hs-&gt;count to 0 initially.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#ga9fa7e0b22e44f003eac46a8b1d911793" title="Type representing an OS descriptor/handle. ">hs_descriptor</a> </dd>
<dd>
<a class="el" href="group__misc.html#gac14acfee8e83b28a6d1cebf76b4fc3cd" title="Remove all descriptors from this set. ">hs_descriptor_set_clear()</a> </dd>
<dd>
<a class="el" href="group__misc.html#gab35bb386ef5f65267b74b8d47ecb4dc2" title="Add a descriptor to a set. ">hs_descriptor_set_add()</a> </dd>
<dd>
<a class="el" href="group__misc.html#ga8c59ee99ffead8f692b52073dfbd1ce3" title="Remove descriptors from a set. ">hs_descriptor_set_remove()</a> </dd>
<dd>
<a class="el" href="group__misc.html#ga20bb0bc90291e23ad78a0095f810267d" title="Wait on a descriptor set for readable descriptors. ">hs_poll()</a> </dd></dl>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9f83a295b8ef5134c90b0e568c3776f3"></a>unsigned int</td>
<td class="fieldname">
count</td>
<td class="fielddoc">
<p>Number of descriptors. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4b63a56d0725be9d07e58c861d2c2636"></a><a class="el" href="group__misc.html#ga9fa7e0b22e44f003eac46a8b1d911793">hs_descriptor</a></td>
<td class="fieldname">
desc[64]</td>
<td class="fielddoc">
<p>Descriptor (int on POSIX platforms, HANDLE on Windows). </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4514d19a8e4cbec25fdadd7faaa5fff0"></a>int</td>
<td class="fieldname">
id[64]</td>
<td class="fielddoc">
<p>Value returned by <a class="el" href="group__misc.html#ga20bb0bc90291e23ad78a0095f810267d" title="Wait on a descriptor set for readable descriptors. ">hs_poll()</a> when a descriptor becomes readable. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga28f92c4d1e1785c7fc653ee1cec7c35d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HS_VERSION&#160;&#160;&#160;900</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compile-time libhs version. </p>
<p>The version is represented as a six-digit decimal value respecting <b>semantic versioning</b>: MMmmpp (major, minor, patch), e.g. 900 for "0.9.0", 10002 for "1.0.2" or 220023 for "22.0.23".</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#ga9cb513f4b03c049c9a76e7e99b447937" title="Run-time libhs version. ">hs_version()</a> for the run-time version. </dd>
<dd>
<a class="el" href="group__misc.html#ga523c656c82be06903d607e2dbb88e3d1" title="Compile-time libhs version string. ">HS_VERSION_STRING</a> for the version string. </dd></dl>

</div>
</div>
<a class="anchor" id="ga523c656c82be06903d607e2dbb88e3d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HS_VERSION_STRING&#160;&#160;&#160;&quot;0.9.0&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compile-time libhs version string. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#gab453230a4cc15e32755d9990c4cbc593" title="Run-time libhs version string. ">hs_version_string()</a> for the run-time version. </dd>
<dd>
<a class="el" href="group__misc.html#ga28f92c4d1e1785c7fc653ee1cec7c35d" title="Compile-time libhs version. ">HS_VERSION</a> for the version number. </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga9fa7e0b22e44f003eac46a8b1d911793"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef _platform_specific_ <a class="el" href="group__misc.html#ga9fa7e0b22e44f003eac46a8b1d911793">hs_descriptor</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type representing an OS descriptor/handle. </p>
<p>This is used in functions taking or returning an OS descriptor/handle, in order to avoid having different function prototypes on different platforms.</p>
<p>The underlying type is:</p><ul>
<li>int on POSIX platforms, including OS X</li>
<li>HANDLE (aka. void *) on Windows </li>
</ul>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga08d37b72f70a8e94bf5f545bae7bf489"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__misc.html#ga08d37b72f70a8e94bf5f545bae7bf489">hs_log_level</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>libhs message log levels. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga08d37b72f70a8e94bf5f545bae7bf489ac3a100b1584db5b485ee102a8dfe781a"></a>HS_LOG_DEBUG&#160;</td><td class="fielddoc">
<p>Internal debug information. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga08d37b72f70a8e94bf5f545bae7bf489ab0f2b45913ca4362a27cc36f70c6352e"></a>HS_LOG_WARNING&#160;</td><td class="fielddoc">
<p>Non-fatal problem. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga08d37b72f70a8e94bf5f545bae7bf489aa9b3971a8e39cbb5bbbe637a8a454b91"></a>HS_LOG_ERROR&#160;</td><td class="fielddoc">
<p>Fatal errors. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga81664ccf8837633feb632ed05b9ea764"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">hs_error_code</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>libhs error codes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga81664ccf8837633feb632ed05b9ea764a0a0410182743d83784cea0cfcc36700e"></a>HS_ERROR_MEMORY&#160;</td><td class="fielddoc">
<p>Memory error. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga81664ccf8837633feb632ed05b9ea764a7a96460879b04fafe9d7d245d8d79364"></a>HS_ERROR_NOT_FOUND&#160;</td><td class="fielddoc">
<p>Missing resource error. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga81664ccf8837633feb632ed05b9ea764ac2eb59dde4e04baa25f9b6b77d39219d"></a>HS_ERROR_ACCESS&#160;</td><td class="fielddoc">
<p>Permission denied. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga81664ccf8837633feb632ed05b9ea764a0cdec99f330f67c53db313b40a4432d7"></a>HS_ERROR_IO&#160;</td><td class="fielddoc">
<p>Input/output error. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga81664ccf8837633feb632ed05b9ea764a5458ec338aaf48925bb7851c415d41db"></a>HS_ERROR_SYSTEM&#160;</td><td class="fielddoc">
<p>Generic system error. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga81664ccf8837633feb632ed05b9ea764a4b1792bc59a279318b5ac668869eecdf"></a>HS_ERROR_INVALID&#160;</td><td class="fielddoc">
<p>Invalid data error. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga707d7a2b9eb02f4303f14fc6cf1a5ff8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__misc.html#ga707d7a2b9eb02f4303f14fc6cf1a5ff8">hs_win32_release</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Common Windows version numbers. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga707d7a2b9eb02f4303f14fc6cf1a5ff8a5b58d489ac6e21a2e259d5f5f2c11eb7"></a>HS_WIN32_VERSION_2000&#160;</td><td class="fielddoc">
<p>Windows 2000. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga707d7a2b9eb02f4303f14fc6cf1a5ff8aeea007a19767e3f128d74ed8fe80da17"></a>HS_WIN32_VERSION_XP&#160;</td><td class="fielddoc">
<p>Windows XP. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga707d7a2b9eb02f4303f14fc6cf1a5ff8aebbdf2236a117c8228caa23d59d89de9"></a>HS_WIN32_VERSION_2003&#160;</td><td class="fielddoc">
<p>Windows Server 2003 or XP-64. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga707d7a2b9eb02f4303f14fc6cf1a5ff8afd6da2362a67e62e0b45fd46169e6ec7"></a>HS_WIN32_VERSION_VISTA&#160;</td><td class="fielddoc">
<p>Windows Vista. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga707d7a2b9eb02f4303f14fc6cf1a5ff8a033520f668968eec180085281e8508e2"></a>HS_WIN32_VERSION_7&#160;</td><td class="fielddoc">
<p>Windows 7 </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga707d7a2b9eb02f4303f14fc6cf1a5ff8aa6a8628995f3e3dffcd0f0f929f18dd4"></a>HS_WIN32_VERSION_8&#160;</td><td class="fielddoc">
<p>Windows 8 </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga707d7a2b9eb02f4303f14fc6cf1a5ff8a9180357f82d8b07499e0eccb163168a0"></a>HS_WIN32_VERSION_8_1&#160;</td><td class="fielddoc">
<p>Windows 8.1 </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga707d7a2b9eb02f4303f14fc6cf1a5ff8a367994360541b46f73330d21c5a066c5"></a>HS_WIN32_VERSION_10&#160;</td><td class="fielddoc">
<p>Windows 10 </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga9cb513f4b03c049c9a76e7e99b447937"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t hs_version </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run-time libhs version. </p>
<p>The version is represented as a six-digit decimal value respecting <b>semantic versioning</b>: MMmmpp (major, minor, patch), e.g. 900 for "0.9.0", 10002 for "1.0.2" or 220023 for "22.0.23".</p>
<dl class="section return"><dt>Returns</dt><dd>This function returns the run-time version number.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#ga28f92c4d1e1785c7fc653ee1cec7c35d" title="Compile-time libhs version. ">HS_VERSION</a> for the compile-time version. </dd>
<dd>
<a class="el" href="group__misc.html#gab453230a4cc15e32755d9990c4cbc593" title="Run-time libhs version string. ">hs_version_string()</a> for the version string. </dd></dl>

</div>
</div>
<a class="anchor" id="gab453230a4cc15e32755d9990c4cbc593"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* hs_version_string </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run-time libhs version string. </p>
<dl class="section return"><dt>Returns</dt><dd>This function returns the run-time version string.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#ga523c656c82be06903d607e2dbb88e3d1" title="Compile-time libhs version string. ">HS_VERSION_STRING</a> for the compile-time version. </dd>
<dd>
<a class="el" href="group__misc.html#ga9cb513f4b03c049c9a76e7e99b447937" title="Run-time libhs version. ">hs_version()</a> for the version number. </dd></dl>

</div>
</div>
<a class="anchor" id="gab765d06278769c8fe2291095267625a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hs_log_redirect </td>
          <td>(</td>
          <td class="paramtype">hs_log_func *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>udata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the log callback function. </p>
<p>The default callback prints the message to stderr. It does not print debug messages unless the environment variable LIBHS_DEBUG is set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>New repport message callback, or NULL to restore the default one. </td></tr>
    <tr><td class="paramname">udata</td><td>Pointer to user-defined data for the callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#gafdc5b9f8999146998d6bd775fd5240e4" title="Call the log callback with a printf-formatted error message. ">hs_error()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga81cec63e387124d0ec01a679bd8507c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hs_log </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__misc.html#ga08d37b72f70a8e94bf5f545bae7bf489">hs_log_level</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call the log callback with a printf-formatted message. </p>
<p>Format a message and call the log callback with it. The default callback prints it to stderr, see <a class="el" href="group__misc.html#gab765d06278769c8fe2291095267625a3" title="Change the log callback function. ">hs_log_redirect()</a>. This callback does not print debug messages unless the environment variable LIBHS_DEBUG is set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Log level. </td></tr>
    <tr><td class="paramname">fmt</td><td>Format string, using printf syntax. </td></tr>
    <tr><td class="paramname">...</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#gab765d06278769c8fe2291095267625a3" title="Change the log callback function. ">hs_log_redirect()</a> to use a custom callback function. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa8da9377c0c5afbb81593cb697101415"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hs_error_mask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">hs_error_code</a>&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mask an error code. </p>
<p>Mask error codes to prevent libhs from calling the log callback (the default one simply prints the string to stderr). It does not change the behavior of the function where the error occurs.</p>
<p>For example, if you want to open a device without a missing device message, you can use: </p><div class="fragment"><div class="line"><a class="code" href="group__misc.html#gaa8da9377c0c5afbb81593cb697101415">hs_error_mask</a>(<a class="code" href="group__misc.html#gga81664ccf8837633feb632ed05b9ea764a7a96460879b04fafe9d7d245d8d79364">HS_ERROR_NOT_FOUND</a>);</div>
<div class="line">r = <a class="code" href="group__device.html#ga738d6470f9ea5d1bd0f248dac35cfca3">hs_device_open</a>(dev, &amp;h);</div>
<div class="line"><a class="code" href="group__misc.html#ga295dd6900cb190f2041712747c1d3203">hs_error_unmask</a>();</div>
<div class="line"><span class="keywordflow">if</span> (r &lt; 0)</div>
<div class="line">    <span class="keywordflow">return</span> r;</div>
</div><!-- fragment --><p>The masked codes are kept in a limited stack, you must not forget to unmask codes quickly with <a class="el" href="group__misc.html#ga295dd6900cb190f2041712747c1d3203">hs_error_unmask()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>Error code to mask.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#ga295dd6900cb190f2041712747c1d3203" title="Unmask the last masked error code. ">hs_error_unmask()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga295dd6900cb190f2041712747c1d3203"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hs_error_unmask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmask the last masked error code. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#gaa8da9377c0c5afbb81593cb697101415" title="Mask an error code. ">hs_error_mask()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gafdc5b9f8999146998d6bd775fd5240e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hs_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">hs_error_code</a>&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call the log callback with a printf-formatted error message. </p>
<p>Format an error message and call the log callback with it. Pass NULL to <code>fmt</code> to use a generic error message. The default callback prints it to stderr, see <a class="el" href="group__misc.html#gab765d06278769c8fe2291095267625a3" title="Change the log callback function. ">hs_log_redirect()</a>.</p>
<p>The error code is simply returned as a convenience, so you can use this function like: </p><div class="fragment"><div class="line"><span class="comment">// Explicit error message</span></div>
<div class="line"><span class="keywordtype">int</span> pipe[2], r;</div>
<div class="line">r = pipe(pipe);</div>
<div class="line"><span class="keywordflow">if</span> (r &lt; 0)</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="group__misc.html#gafdc5b9f8999146998d6bd775fd5240e4">hs_error</a>(<a class="code" href="group__misc.html#gga81664ccf8837633feb632ed05b9ea764a5458ec338aaf48925bb7851c415d41db">HS_ERROR_SYSTEM</a>, <span class="stringliteral">&quot;pipe() failed: %s&quot;</span>, strerror(errno));</div>
<div class="line"></div>
<div class="line"><span class="comment">// Generic error message (e.g. &quot;Memory error&quot;)</span></div>
<div class="line"><span class="keywordtype">char</span> *p = malloc(128);</div>
<div class="line"><span class="keywordflow">if</span> (!p)</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="group__misc.html#gafdc5b9f8999146998d6bd775fd5240e4">hs_error</a>(<a class="code" href="group__misc.html#gga81664ccf8837633feb632ed05b9ea764a0a0410182743d83784cea0cfcc36700e">HS_ERROR_MEMORY</a>, NULL);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>Error code. </td></tr>
    <tr><td class="paramname">fmt</td><td>Format string, using printf syntax. </td></tr>
    <tr><td class="paramname">...</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns the error code.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#gaa8da9377c0c5afbb81593cb697101415" title="Mask an error code. ">hs_error_mask()</a> to mask specific error codes. </dd>
<dd>
<a class="el" href="group__misc.html#gab765d06278769c8fe2291095267625a3" title="Change the log callback function. ">hs_log_redirect()</a> to use a custom callback function. </dd></dl>

</div>
</div>
<a class="anchor" id="gaafafebd2e1dded0a279bc22003934253"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t hs_millis </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get time from a monotonic clock. </p>
<p>You should not rely on the absolute value, whose meaning may differ on various platforms. Use it to calculate periods and durations.</p>
<p>While the returned value is in milliseconds, the resolution is not that good on some platforms. On Windows, it is over 10 milliseconds.</p>
<dl class="section return"><dt>Returns</dt><dd>This function returns a mononotic time value in milliseconds. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa41d2322c14a1a759efb03ba26efc61d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hs_adjust_timeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust a timeout over a time period. </p>
<p>This function returns -1 if the timeout is negative. Otherwise, it decreases the timeout for each millisecond elapsed since <code>start</code>. When <code>timeout</code> milliseconds have passed, the function returns 0.</p>
<p><a class="el" href="group__misc.html#gaafafebd2e1dded0a279bc22003934253" title="Get time from a monotonic clock. ">hs_millis()</a> is used as the time source, so you must use it for <code>start</code>.</p>
<div class="fragment"><div class="line">uint64_t start = <a class="code" href="group__misc.html#gaafafebd2e1dded0a279bc22003934253">hs_millis</a>();</div>
<div class="line"><span class="keywordflow">do</span> {</div>
<div class="line">    r = poll(&amp;pfd, 1, <a class="code" href="group__misc.html#gaa41d2322c14a1a759efb03ba26efc61d">hs_adjust_timeout</a>(timeout, start));</div>
<div class="line">} <span class="keywordflow">while</span> (r &lt; 0 &amp;&amp; errno == EINTR);</div>
</div><!-- fragment --><p>This function is mainly used in libhs to restart interrupted system calls with timeouts, such as poll().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Timeout is milliseconds. </td></tr>
    <tr><td class="paramname">start</td><td>Start of the timeout period, from <a class="el" href="group__misc.html#gaafafebd2e1dded0a279bc22003934253" title="Get time from a monotonic clock. ">hs_millis()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns the adjusted value, or -1 if <code>timeout</code> is negative. </dd></dl>

</div>
</div>
<a class="anchor" id="ga448a59497504c07f4615db2dd8eb2243"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t hs_linux_version </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Linux kernel version as a composite decimal number. </p>
<p>For pre-3.0 kernels, the value is MMmmrrppp (2.6.34.1 =&gt; 020634001). For recent kernels, it is MMmm00ppp (4.1.2 =&gt; 040100002).</p>
<p>Do not rely on this too much, because kernel versions do not reflect the different kernel flavors. Some distributions use heavily-patched builds, with a lot of backported code. When possible, detect functionalities instead.</p>
<dl class="section return"><dt>Returns</dt><dd>This function returns the version number. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf1d11f8078c7525d1bbf6079674c1df0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* hs_win32_strerror </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Format an error string using FormatMessage(). </p>
<p>The content is only valid until the next call to <a class="el" href="group__misc.html#gaf1d11f8078c7525d1bbf6079674c1df0" title="Format an error string using FormatMessage(). ">hs_win32_strerror()</a>, be careful with multi-threaded code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>Windows error code, or use 0 to get it from GetLastError(). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns a private buffer containing the error string, valid until the next call to <a class="el" href="group__misc.html#gaf1d11f8078c7525d1bbf6079674c1df0" title="Format an error string using FormatMessage(). ">hs_win32_strerror()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga68e54e9b77f4dd37dbfedf43e3d27c99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t hs_win32_version </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Windows version as a composite decimal number. </p>
<p>The value is MMmm, see <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms724832%28v=vs.85%29.aspx">https://msdn.microsoft.com/en-us/library/windows/desktop/ms724832%28v=vs.85%29.aspx</a> for the operating system numbers. You can use the predefined enum values from <a class="el" href="group__misc.html#ga707d7a2b9eb02f4303f14fc6cf1a5ff8">hs_win32_release</a>.</p>
<p>Use this only when testing for functionality is not possible or impractical.</p>
<dl class="section return"><dt>Returns</dt><dd>This function returns the version number. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5857a6f54303b35d4f0351daaff2dc72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t hs_darwin_version </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Darwin version on Apple systems. </p>
<p>The value is MMmmrr (11.4.2 =&gt; 110402), see <a href="https://en.wikipedia.org/wiki/Darwin_%28operating_system%29">https://en.wikipedia.org/wiki/Darwin_%28operating_system%29</a> for the corresponding OS X releases.</p>
<dl class="section return"><dt>Returns</dt><dd>This function returns the version number. </dd></dl>

</div>
</div>
<a class="anchor" id="gac14acfee8e83b28a6d1cebf76b4fc3cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hs_descriptor_set_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__misc.html#strucths__descriptor__set">hs_descriptor_set</a> *&#160;</td>
          <td class="paramname"><em>set</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all descriptors from this set. </p>
<p>In effect, this only sets set-&gt;count to 0. You can do it directly if you prefer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">set</td><td>Descriptor set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#strucths__descriptor__set" title="Descriptor set for cross-platform device polling. ">hs_descriptor_set</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gab35bb386ef5f65267b74b8d47ecb4dc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hs_descriptor_set_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__misc.html#strucths__descriptor__set">hs_descriptor_set</a> *&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__misc.html#ga9fa7e0b22e44f003eac46a8b1d911793">hs_descriptor</a>&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a descriptor to a set. </p>
<p>Overflow will throw an assert in debug builds, the behavior is undefined in release builds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">set</td><td>Descriptor set. </td></tr>
    <tr><td class="paramname">desc</td><td>Descriptor (int on POSIX platforms, HANDLE on Windows). </td></tr>
    <tr><td class="paramname">id</td><td>Value returned by <a class="el" href="group__misc.html#ga20bb0bc90291e23ad78a0095f810267d" title="Wait on a descriptor set for readable descriptors. ">hs_poll()</a> when this descriptor becomes readable. This values does not need to be unique.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#strucths__descriptor__set" title="Descriptor set for cross-platform device polling. ">hs_descriptor_set</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga8c59ee99ffead8f692b52073dfbd1ce3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hs_descriptor_set_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__misc.html#strucths__descriptor__set">hs_descriptor_set</a> *&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove descriptors from a set. </p>
<p>All descriptors sharing the value </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>will be removed.</td></tr>
    <tr><td class="paramname">set</td><td>Descriptor set. </td></tr>
    <tr><td class="paramname">id</td><td>ID value associated with the descriptors to remove.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#strucths__descriptor__set" title="Descriptor set for cross-platform device polling. ">hs_descriptor_set</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga20bb0bc90291e23ad78a0095f810267d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hs_poll </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__misc.html#strucths__descriptor__set">hs_descriptor_set</a> *&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait on a descriptor set for readable descriptors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">set</td><td>Descriptor set. </td></tr>
    <tr><td class="paramname">timeout</td><td>Timeout in milliseconds, or -1 to block indefinitely. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns the value associated to the first descriptor to become readable. It returns 0 on timeout, or a negative <a class="el" href="group__misc.html#ga81664ccf8837633feb632ed05b9ea764">hs_error_code</a> value.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#strucths__descriptor__set" title="Descriptor set for cross-platform device polling. ">hs_descriptor_set</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 23 2015 15:17:59 for libhs by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
